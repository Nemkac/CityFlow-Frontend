<div class="flex flex-col w-full h-auto p-4 overflow-y-scroll gap-4">
    <div class="flex w-full flex-row items-center border-b-[1px] border-white/60 py-2 justify-between">
        <div class="flex flex-row w-full items-center gap-4">
            <div class="flex flex-row items-center gap-2">
                <div class="flex rounded-full bg-[#E6C79C] items-center text-center justify-center p-2">
                    <img src="../../../assets/icons/travel.png" class="nav_menu_icon size-[20px]"/>
                </div>
                <p class="text-primaryBlack font-manrope font-semibold text-[24px]">{{route.name}}</p>
            </div>
            <p class="text-[16px] font-light font-manrope text-primaryBlack">Futoska pijaca - Centar</p>
            <p class="text-[16px] font-semibold font-manrope text-primaryBlack"> {{route.openingTime}} - {{route.closingTime}}</p>
        </div>
        @if (loggedUserRole == "ROLE_ROUTEADMINISTRATOR") {
            <div class="flex flex-row w-full gap-4 justify-end">
                <button class="flex rounded-md bg-deepRed hover:bg-lightRed transition-[0.5s] items-center gap-2 py-2 px-4 justify-center"
                        (click)="generatePDF()">
                    <img src="../../../assets/icons/PDFIcon.png" class="size-[16px] nav_menu_icon"/>
                    <p class="text-primaryWhite text-[14px]">Generate PDF report</p>
                </button>
                <button class="flex flex-row gap-2 items-center group rounded-md px-4 py-2 border-[1px] border-primaryGrey/50 hover:border-primaryGrey transition-[0.5s]">
                    <img src="../../../assets/icons/Edit_duotone_line.png" class="size-[16px] opacity-50 group-hover:opacity-100"/>
                    <p class="text-primaryBlack group-hover:opacity-100 
                            opacity-50 font-manrope text-[14px] transition-[0.5s]">
                        Edit
                    </p>
                </button>
            </div>
        }
    </div>
    <div #mapContainer class="flex h-[400px] w-full rounded-md"></div>
    <!-- @if (loggedUserRole == "ROLE_ROUTEADMINISTRATOR") {
        <p class="font-manrope font-regular text-[18px] text-white mb-4">Scheduled buses</p>
        @for (bus of routeBuses; track $index) {
            <app-buses-list-item class="mb-4"
                [routeId]="routeId"
                [busId]="bus.id"
                [licencePlate]="bus.licencePlate"
                (busRemovedFromRoute)="handleBusListUpdate()"
            />
        }
    } -->
    @if (loggedUserRole == "ROLE_ROUTEADMINISTRATOR") {
        <div class="flex flex-col w-full gap-4 rounded-md border-[1px] border-primaryGrey/50 p-4">
            <div class="flex flex-row w-full items-center gap-2">
                <img src="../../../assets/icons/BusIcon.png" class="size-[20px] icon"/>
                <p class="font-manrope font-regular text-[18px] text-primaryBlack">Scheduled buses</p>
            </div>
            <div class="flex flex-row flex-wrap w-full justify-evenly">
                @for (bus of routeBuses; track $index) {
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                    <app-buses-list-item class="mb-4"
                        [routeId]="routeId"
                        [busId]="bus.id"
                        [licencePlate]="bus.licencePlate"
                        (busRemovedFromRoute)="handleBusListUpdate()"
                    />
                }
            </div>
        </div>
    }
    <!-- <div class="w-full flex flex-row justify-end">
        <button class="w-[200px] h-[35px] font-manrope font-medium text-[16px] text-grey rounded-[4px] bg-white hover:bg-lightGrey/10 transition-[0.5s]"
                (click)="increaseNumberOfPassengers()">
            Buy ticket
        </button>
        <button class="w-[200px] h-[35px] font-manrope font-medium text-[16px] text-grey rounded-[4px] ml-4 bg-white hover:bg-lightGrey/10 transition-[0.5s]"
                (click)="increaseNumberOfPassengersWithCard()">
            Scan card
        </button>
    </div> -->
</div>