<form [formGroup]="form" class="flex flex-col w-full items-center justify-center h-full">
    <div class="flex flex-col font-poppins w-full h-full items-center justify-center justify-evenly gap-4 p-4">
        <div class="flex flex-row bg-primaryDarkGreen items-center  size-[150px] justify-center rounded-full">
            <img src="../../../assets/Logo.png" class="w-[70px]"/>
        </div>
        <div class="flex flex-row w-full lg:w-[75%] xl:w-[80%] items-start justify-start gap-8">
            <div class="flex flex-col w-full xl:w-[50%] items-start h-full gap-4">
                <p class="text-[14px] text-primaryBlack/50 font-light tracking-wider">PERSONAL INFO</p>
                <div class="flex flex-col w-full">
                    @if (form.get('name')?.touched && form.get('name')?.invalid) {
                        <label for="name" class="text-lightRed font-regular text-[12px]">First name (Required)</label>
                    } @else {
                        <label for="name" class="text-primaryBlack/70 font-regular text-[12px]">First name</label>
                    }
                    <input formControlName="name" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="First name"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('lastname')?.touched && form.get('lastname')?.invalid) {
                        <label for="lastname" class="text-lightRed font-regular text-[12px]">Last name (Required)</label>
                    } @else {
                        <label for="lastname" class="text-primaryBlack/70 font-regular text-[12px]">Last name</label>
                    }
                    <input formControlName="lastname" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="Last name"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('phone')?.touched && form.get('phone')?.invalid) {
                        <label for="phone" class="text-lightRed font-regular text-[12px]">Phone number (Required)</label>
                    } @else {
                        <label for="phone" class="text-primaryBlack/70 font-regular text-[12px]">Phone number</label>
                    }
                    <input formControlName="phone" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="Phone number"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('dateOfBirth')?.touched && form.get('dateOfBirth')?.invalid) {
                        <label for="dateInput" class="text-lightRed font-regular text-[12px]">Date of birth (Required)</label>
                    } @else {
                        <label for="dateInput" class="text-primaryBlack/70 font-regular text-[12px]">Date of birth</label>
                    }
                    <input formControlName="dateOfBirth" type="date" id="dateInput" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen">
                </div>            
            </div>
            <div class="flex flex-col w-full xl:w-[50%] items-start h-full gap-4">
                <p class="text-[14px] text-primaryBlack/50 font-light tracking-wider">ACCOUNT INFO</p>
                <div class="flex flex-col w-full">
                    @if (form.get('username')?.touched && form.get('username')?.invalid) {
                        <label for="username" class="text-lightRed font-regular text-[12px]">Username (Required)</label>
                    } @else {
                        <label for="username" class="text-primaryBlack/70 font-regular text-[12px]">Username</label>
                    }
                    <input formControlName="username" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="Name"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('email')?.touched && form.get('email')?.invalid) {
                        <label for="email" class="text-lightRed font-regular text-[12px]">Email address (Required)</label>
                    } @else {
                        <label for="email" class="text-primaryBlack/70 font-regular text-[12px]">Email address</label>
                    }
                    <input type="email" formControlName="email" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="email@domain.com"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('password')?.touched && form.get('password')?.invalid) {
                        <label for="password" class="text-lightRed font-regular text-[12px]">Password (Required)</label>
                    }
                    @if (form.get('password')?.touched || form.get('password')?.dirty) {} 
                        @if (form.get('password')?.errors?.['uppercase']) {
                            <label for="password" class="text-lightRed font-regular text-[12px]">Password must contain an uppercase letter.</label>
                        }
                        @else if (form.get('password')?.errors?.['digit']) {
                            <label for="password" class="text-lightRed font-regular text-[12px]">Password must contain a digit.</label>
                        }
                        @else if (form.get('password')?.errors?.['symbol']) {
                            <label for="password" class="text-lightRed font-regular text-[12px]">Password must contain a symbol.</label>
                        }
                        @else if (form.get('password')?.errors?.['length']) {
                            <label for="password" class="text-lightRed font-regular text-[12px]">Password must be at least 6 characters long.</label>
                        }
                    @else {
                        <label for="password" class="text-primaryBlack/70 font-regular text-[12px]">Password</label>
                    }
                    <input formControlName="password" type="password" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="Password"/>
                </div>
                <div class="flex flex-col w-full">
                    @if (form.get('repeatPassword')?.touched && form.get('repeatPassword')?.invalid) {
                        <label for="repeatPassword" class="text-lightRed font-regular text-[12px]">Repeated password (Required)</label>
                    } @else if (form.errors?.['passwordMismatch'] && (form.get('repeatPassword')?.touched || form.get('repeatPassword')?.dirty)) {
                        <label for="password" class="text-lightRed font-regular text-[12px]">The password does not match.</label>
                    } 
                    @else {
                        <label for="repeatPassword" class="text-primaryBlack/70 font-regular text-[12px]">Repeated password</label>
                    }
                    <input formControlName="repeatPassword" class="w-full placeholder:italic rounded-md bg-white border-[1px] border-primaryBlack/20 h-[45px] p-4 text-primaryBlack focus:outline-lightGreen" placeholder="Repeat password"/>
                </div>    
            </div>
        </div>
        <div class="flex flex-row lg:w-[75%] xl:w-[80%] items-center justify-startn">
            <input type="checkbox" class="mr-4 size-[16px] checked:bg-lightGreen"/>
            <p class="ml-2 text-[14px] font-light text-primaryBlack">By ticking, you are confirming that you have read, understood and agree to CityFlow</p>
            <p class="ml-2 text-[14px] font-medium text-lightGreen hover:text-darkGreen transition-[0.5s] cursor-pointer underline-[1px] underline-lightGreen">Terms and Conditions *</p>
            <img src="../../../assets/icons/ShieldIcon.png" class="size-[20px] opacity-50 transition-[0.7s] ml-2">
        </div>
        <div class="flex lg:w-[75%] justify-end">
            <button [disabled]="!form.valid" (click)="signUp()"
                    [ngClass]="{'bg-primaryBlack/20 text-primaryBlack/50': !form.valid, 'bg-primaryDarkGreen hover:bg-primaryLightGreen text-primaryWhite': form.valid}"
                    class="flex items-center justify-center px-16 py-2 rounded-md transition-[0.5s] font-medium text-[18px]" type="submit">
                Sign Up
            </button>
        </div>
    </div>
</form>